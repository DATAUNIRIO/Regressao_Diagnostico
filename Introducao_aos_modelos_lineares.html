<!DOCTYPE html>
<html>
  <head>
    <title>Introdução aos Modelos Lineares</title>
    <meta charset="utf-8">
    <meta name="author" content="Steven Dutt Ross" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introdução aos Modelos Lineares
### Steven Dutt Ross

---

  



## Como ajustar uma reta que a esses dados?
&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-1-1.png" width="672" /&gt;

---

class: inverse, center, middle

# Introdução aos Modelos de Regressão



---

## Introdução aos Modelos Lineares 

### Representação matemática de um fenômeno  
### É utilizado para descrever relações entre variáveis  
&lt;br&gt;
### Modelos Determinísticos  
### Modelos Probabilísticos  


.footnote[
[1] Fonte deste segmento: [© 2013 Denise Britz do Nascimento Silva](http://www.ence.ibge.gov.br/index.php/portal-graduacao/portal-graduacao-corpo-docente)
]

---

## Introdução aos Modelos Lineares 

### Modelo Estatístico
Extração de sinal na presença de ruídos  
- a transmissão e recepção de informações pode ser decomposta em sinal e ruído  
&lt;br&gt;
#### Sinal  
- componente determinístico, não aleatório  
&lt;br&gt;
#### Ruído  
- componente aleatório

---

## Modelo Estatístico

Resume as principais características de um conjunto de dados, substituindo seus valores individuais por funções matemáticas. &lt;br&gt;
&lt;br&gt;
Representa a informação através de um número restrito de quantidades/variáveis (parâmetros).

---

## Modelo Estatístico

### A interpretação/resumo das informações de um conjunto de dados demanda a formulação e identificação de padrões que possam representar as informações.

### Busca-se evidenciar suas principais características, utilizando um número restrito de variáveis/quantidades.


---

## Modelo Determinístico
### Representa relações exatas

Exemplo: &lt;br&gt;
– Relação entre força, massa e aceleração &lt;br&gt;
– F = m·a &lt;br&gt;
 &lt;br&gt;
  &lt;br&gt;
– Relação entre velocidade, distância e tempo &lt;br&gt;
– V = d/t  &lt;br&gt;

---

## Modelo Probabilístico

### Considera dois componentes

#### O componente determinístico  
#### O componente aleatório  

Exemplo:  
– O volume de vendas é, em geral, 10 vezes o que se gasta com propaganda...*exatamente?*  

– Y = 10X + Erro  

– O erro aleatório representa a variação nas vendas que não pode ser explicada pela propaganda

---

# Modelos de Regressão
### Qual é a relação entre as diferentes variáveis?  

### Variável reposta: uma variável numérica (aleatória), cujo comportamento (tendência) deseja-se analisar ou prever

### Variáveis explicativas ou independentes: uma ou mais variáveis numéricas ou categóricas não estocásticas que se supõe sejam relacionadas à variável reposta.

`$$Y_i = \beta_0+\beta_1*X_i+\epsilon$$`

---

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-2-1.png" width="672" /&gt;


---


&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-3-1.png" width="672" /&gt;

---

# Como ajustar essa reta aos pontos?
&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-4-1.png" width="672" /&gt;

---

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-5-1.png" width="672" /&gt;

---

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-6-1.png" width="672" /&gt;

---

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-7-1.png" width="672" /&gt;

---

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-8-1.png" width="672" /&gt;

---

class: center, middle, inverse


# QUAL A MELHOR RETA?

---

# Como podemos ajustar a reta (distância minima ao quadrado)?

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-9-1.png" width="672" /&gt;

---

## Método dos Mínimos Quadrados

```r
y&lt;-c(10,12,13,15,16,18,19,20,21,22)  
x&lt;-c(1,2,3,4,5,6,7,8,9,10)
mod&lt;-lm(y~x)
mod
```

```
## 
## Call:
## lm(formula = y ~ x)
## 
## Coefficients:
## (Intercept)            x  
##       9.267        1.333
```

```r
Yhat &lt;- predict(mod)
Erro &lt;- c(y - Yhat) # equivalente a residuals(mod)
```

---

Para esse conjunto de dados, as estimativas do `\(\beta_0\)` e do `\(\beta_1\)` desse modelo linear simples são 9.27 e 1.33. Logo a equação fica:

`\(\hat{Y}\)` = 9.27 + 1.33*Xi

Por exemplo, para dado valor de X, é possível obter um valor para Y  &lt;br&gt;
X = 1 -&gt;  `\(\hat{Y}\)` = 9,27+1,33*(1) = 10,6 (como y = 10 o erro é -0,6)  &lt;br&gt;
&lt;br&gt;
X = 5 -&gt;  `\(\hat{Y}\)` = 9,27+1,33*(5) = 15,932 (como y = 16 o erro é 0,068)  

---

## Tipos de relaciomentos


```r
y&lt;-c(10,11,12,13,14,15,16,17,18,19)
x&lt;-c(1,2,3,4,5,6,7,8,9,10)
y2&lt;-c(10,12,13,15,16,18,19,20,21,22)
x2&lt;-c(1,3,5,6,8,9,6,13,14,20)
y3&lt;-c(9,12,13,15,16,18,19,19,18,15)
x3&lt;-c(1,3,5,6,8,9,6,13,14,20)
y4&lt;-c(10,12,13,10,12,13,14,10,11,12)
x4&lt;-c(1,3,5,6,8,9,6,13,14,20)

par(mfrow=c(2,2))
plot(x,y)
abline(lm(y~x),col="red")
plot(x2,y2)
abline(lm(y2~x2),col="blue")
plot(x3,y3)
abline(lm(y3~x3),col="darkgreen")
plot(x4,y4)
abline(lm(y4~x4),col="gray")
```

---

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-12-1.png" width="960" /&gt;


---

## Métodos dos Mínimos Quadrados


```r
anova(mod)
```

```
## Analysis of Variance Table
## 
## Response: y
##           Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
## x          1 146.667 146.667  676.92 5.113e-09 ***
## Residuals  8   1.733   0.217                      
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
```


---

## Métodos dos Mínimos Quadrados


```r
summary(mod)
```

```
## 
## Call:
## lm(formula = y ~ x)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.60000 -0.26667  0.06667  0.31667  0.73333 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  9.26667    0.31798   29.14 2.08e-09 ***
## x            1.33333    0.05125   26.02 5.11e-09 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.4655 on 8 degrees of freedom
## Multiple R-squared:  0.9883,	Adjusted R-squared:  0.9869 
## F-statistic: 676.9 on 1 and 8 DF,  p-value: 5.113e-09
```

---



```r
fit &lt;- lm(Kmporlitro ~ HP, data = CARROS)  # Fit the model
summary(fit)  # Report the results
```

```
## 
## Call:
## lm(formula = Kmporlitro ~ HP, data = CARROS)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -5.7121 -2.1122 -0.8854  1.5819  8.2360 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 30.09886    1.63392  18.421  &lt; 2e-16 ***
## HP          -0.06823    0.01012  -6.742 1.79e-07 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 3.863 on 30 degrees of freedom
## Multiple R-squared:  0.6024,	Adjusted R-squared:  0.5892 
## F-statistic: 45.46 on 1 and 30 DF,  p-value: 1.788e-07
```

---


```r
CARROS$predicted &lt;- predict(fit)   # Save the predicted values
CARROS$residuals &lt;- residuals(fit) # Save the residual values
CARROS %&gt;% select(Kmporlitro, predicted, residuals) %&gt;% head()
```

```
##                   Kmporlitro predicted  residuals
## Mazda RX4               21.0  22.59375 -1.5937500
## Mazda RX4 Wag           21.0  22.59375 -1.5937500
## Datsun 710              22.8  23.75363 -0.9536307
## Hornet 4 Drive          21.4  22.59375 -1.1937500
## Hornet Sportabout       18.7  18.15891  0.5410881
## Valiant                 18.1  22.93489 -4.8348913
```

---


```r
confint(fit, level=0.95) # intervalo de confianca dos parametros do modelo
```

```
##                   2.5 %     97.5 %
## (Intercept) 26.76194879 33.4357723
## HP          -0.08889465 -0.0475619
```

```r
fitted(fit) # valores ajustados
```

```
##           Mazda RX4       Mazda RX4 Wag          Datsun 710 
##           22.593750           22.593750           23.753631 
##      Hornet 4 Drive   Hornet Sportabout             Valiant 
##           22.593750           18.158912           22.934891 
##          Duster 360           Merc 240D            Merc 230 
##           13.382932           25.868707           23.617174 
##            Merc 280           Merc 280C          Merc 450SE 
##           21.706782           21.706782           17.817770 
##          Merc 450SL         Merc 450SLC  Cadillac Fleetwood 
##           17.817770           17.817770           16.112064 
## Lincoln Continental   Chrysler Imperial            Fiat 128 
##           15.429781           14.406357           25.595794 
##         Honda Civic      Toyota Corolla       Toyota Corona 
##           26.550990           25.664022           23.480718 
##    Dodge Challenger         AMC Javelin          Camaro Z28 
##           19.864619           19.864619           13.382932 
##    Pontiac Firebird           Fiat X1-9       Porsche 914-2 
##           18.158912           25.595794           23.890087 
##        Lotus Europa      Ford Pantera L        Ferrari Dino 
##           22.389065           12.086595           18.158912 
##       Maserati Bora          Volvo 142E 
##            7.242387           22.661978
```

---
class: center, middle

# Visualizando o Modelo

---


```r
ggplot(CARROS, aes(x = HP, y = Kmporlitro)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "red") +  # Plot regression slope
  theme_bw()  # Add theme for cleaner look
```

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-18-1.png" width="672" /&gt;

---


```r
ggplot(CARROS, aes(x = HP, y = Kmporlitro)) +
  geom_smooth(method = "lm", se = FALSE, color = "red") +  # Plot regression slope
  geom_segment(aes(xend = HP, yend = predicted), alpha = .2) +  # alpha to fade lines
  geom_point() +
  geom_point(aes(y = predicted), shape = 1) +
  theme_bw()  # Add theme for cleaner look
```

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-19-1.png" width="672" /&gt;

---


```r
ggplot(CARROS, aes(x = HP, y = Kmporlitro)) +
  geom_smooth(method = "lm", se = FALSE, color = "lightgrey") +
  geom_segment(aes(xend = HP, yend = predicted), alpha = .2) +
  geom_point(aes(color = abs(residuals), size = abs(residuals))) + # size also mapped
  scale_color_continuous(low = "black", high = "red") +
  guides(color = FALSE, size = FALSE) +  # Size legend also removed
  geom_point(aes(y = predicted), shape = 1) +
  theme_bw()
```

&lt;img src="Introducao_aos_modelos_lineares_files/figure-html/unnamed-chunk-20-1.png" width="672" /&gt;

---
class: inverse, center, middle

# Regressão Múltipla

---

# Regressão Múltipla

Queremos ajustar o modelo de minimos quadrados (MQO) com mais de uma variável explicativa. 

Por exemplo:

`$$KmporLitro = \beta_0+\beta_1*HP+\beta_2*Peso+\epsilon$$`

`$$KmporLitro = \beta_0+\beta_1*HP+\beta_2*Peso+\beta_3*TipodeMarcha +\beta_4 Tipodecombustivel+\epsilon$$`
 
O modelo 1 tem duas variáveis explicativas.  
O modelo 2 tem quatro variáveis explicativas.

Três perguntas:   
1) como fazer esses modelos?  
2) qual deles tem o melhor ajuste?    
3) como interpretar o coeficiente beta?  

---


```r
### Regressao linear Multipla
modelo1 = lm(Kmporlitro ~ HP + Peso , data=CARROS)
modelo2 = lm(Kmporlitro ~ HP + Peso + TipodeMarcha, data=CARROS)
modelo_geral = lm(Kmporlitro ~ HP + Peso + TipodeMarcha + Tipodecombustivel, data=CARROS)

summary(modelo1)
summary(modelo2)
summary(modelo_geral)
```

---


```r
### Regressao linear Multipla
modelo1 = lm(Kmporlitro ~ HP + Peso , data=CARROS)
modelo2 = lm(Kmporlitro ~ HP + Peso + TipodeMarcha + Tipodecombustivel, data=CARROS)
modelo_geral = lm(Kmporlitro ~ HP + Peso + TipodeMarcha + Tipodecombustivel + NumdeValvulas + NumdeMarchas + RPM + Cilindros, data=CARROS)

summary(modelo1)
```

```
## 
## Call:
## lm(formula = Kmporlitro ~ HP + Peso, data = CARROS)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -3.941 -1.600 -0.182  1.050  5.854 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 37.22727    1.59879  23.285  &lt; 2e-16 ***
## HP          -0.03177    0.00903  -3.519  0.00145 ** 
## Peso        -3.87783    0.63273  -6.129 1.12e-06 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 2.593 on 29 degrees of freedom
## Multiple R-squared:  0.8268,	Adjusted R-squared:  0.8148 
## F-statistic: 69.21 on 2 and 29 DF,  p-value: 9.109e-12
```

```r
#summary(modelo2)
#summary(modelo_geral)
```

---

### A previsão
Para fins de teste, vamos tentar prever o MPG para o carro Valiant:


```r
data("mtcars")
modelo_geral = lm(mpg ~ cyl + disp + hp + drat + wt + qsec + vs + am + gear + carb , data=mtcars)

df &lt;- data.frame(cyl = 6, disp = 225, hp = 105, drat = 2.76, wt = 3.460, qsec = 20.22, vs = 1, am = 0, gear = 3, carb = 1)
predict(modelo_geral, df)
```

```
##        1 
## 20.38304
```
O MPG real para este carro é 18,1.

---

# R2 e R2 ajustado


```r
summary(modelo1)$r.squared 
```

```
## [1] 0.8267855
```

```r
summary(modelo2)$r.squared 
```

```
## [1] 0.8499499
```

```r
summary(modelo_geral)$r.squared 
```

```
## [1] 0.8690158
```

```r
summary(modelo1)$adj.r.squared 
```

```
## [1] 0.8148396
```

```r
summary(modelo2)$adj.r.squared 
```

```
## [1] 0.8277202
```

```r
summary(modelo_geral)$adj.r.squared 
```

```
## [1] 0.8066423
```

---

# R2 e Akaike information criterion (AIC)

```r
summary(modelo1)$adj.r.squared 
```

```
## [1] 0.8148396
```

```r
summary(modelo2)$adj.r.squared 
```

```
## [1] 0.8277202
```

```r
summary(modelo_geral)$adj.r.squared 
```

```
## [1] 0.8066423
```

```r
AIC(modelo1)
```

```
## [1] 156.6523
```

```r
AIC(modelo2)
```

```
## [1] 156.0584
```

```r
AIC(modelo_geral)
```

```
## [1] 163.7098
```

---

### Seleção de modelo (variáveis) via STEPWISE

```r
library(MASS)
step &lt;- stepAIC(modelo_geral, direction="both") # quanto menor o AIC mais parcimonioso o modelo
```

```
## Start:  AIC=70.9
## mpg ~ cyl + disp + hp + drat + wt + qsec + vs + am + gear + carb
## 
##        Df Sum of Sq    RSS    AIC
## - cyl   1    0.0799 147.57 68.915
## - vs    1    0.1601 147.66 68.932
## - carb  1    0.4067 147.90 68.986
## - gear  1    1.3531 148.85 69.190
## - drat  1    1.6270 149.12 69.249
## - disp  1    3.9167 151.41 69.736
## - hp    1    6.8399 154.33 70.348
## - qsec  1    8.8641 156.36 70.765
## &lt;none&gt;              147.49 70.898
## - am    1   10.5467 158.04 71.108
## - wt    1   27.0144 174.51 74.280
## 
## Step:  AIC=68.92
## mpg ~ disp + hp + drat + wt + qsec + vs + am + gear + carb
## 
##        Df Sum of Sq    RSS    AIC
## - vs    1    0.2685 147.84 66.973
## - carb  1    0.5201 148.09 67.028
## - gear  1    1.8211 149.40 67.308
## - drat  1    1.9826 149.56 67.342
## - disp  1    3.9009 151.47 67.750
## - hp    1    7.3632 154.94 68.473
## &lt;none&gt;              147.57 68.915
## - qsec  1   10.0933 157.67 69.032
## - am    1   11.8359 159.41 69.384
## + cyl   1    0.0799 147.49 70.898
## - wt    1   27.0280 174.60 72.297
## 
## Step:  AIC=66.97
## mpg ~ disp + hp + drat + wt + qsec + am + gear + carb
## 
##        Df Sum of Sq    RSS    AIC
## - carb  1    0.6855 148.53 65.121
## - gear  1    2.1437 149.99 65.434
## - drat  1    2.2139 150.06 65.449
## - disp  1    3.6467 151.49 65.753
## - hp    1    7.1060 154.95 66.475
## &lt;none&gt;              147.84 66.973
## - am    1   11.5694 159.41 67.384
## - qsec  1   15.6830 163.53 68.200
## + vs    1    0.2685 147.57 68.915
## + cyl   1    0.1883 147.66 68.932
## - wt    1   27.3799 175.22 70.410
## 
## Step:  AIC=65.12
## mpg ~ disp + hp + drat + wt + qsec + am + gear
## 
##        Df Sum of Sq    RSS    AIC
## - gear  1     1.565 150.09 63.457
## - drat  1     1.932 150.46 63.535
## &lt;none&gt;              148.53 65.121
## - disp  1    10.110 158.64 65.229
## - am    1    12.323 160.85 65.672
## - hp    1    14.826 163.35 66.166
## + carb  1     0.685 147.84 66.973
## + vs    1     0.434 148.09 67.028
## + cyl   1     0.414 148.11 67.032
## - qsec  1    26.408 174.94 68.358
## - wt    1    69.127 217.66 75.350
## 
## Step:  AIC=63.46
## mpg ~ disp + hp + drat + wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## - drat  1     3.345 153.44 62.162
## - disp  1     8.545 158.64 63.229
## &lt;none&gt;              150.09 63.457
## - hp    1    13.285 163.38 64.171
## + gear  1     1.565 148.53 65.121
## + cyl   1     1.003 149.09 65.242
## + vs    1     0.645 149.45 65.319
## + carb  1     0.107 149.99 65.434
## - am    1    20.036 170.13 65.466
## - qsec  1    25.574 175.67 66.491
## - wt    1    67.572 217.66 73.351
## 
## Step:  AIC=62.16
## mpg ~ disp + hp + wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## - disp  1     6.629 160.07 61.515
## &lt;none&gt;              153.44 62.162
## - hp    1    12.572 166.01 62.682
## + drat  1     3.345 150.09 63.457
## + gear  1     2.977 150.46 63.535
## + cyl   1     2.447 150.99 63.648
## + vs    1     1.121 152.32 63.927
## + carb  1     0.011 153.43 64.160
## - qsec  1    26.470 179.91 65.255
## - am    1    32.198 185.63 66.258
## - wt    1    69.043 222.48 72.051
## 
## Step:  AIC=61.52
## mpg ~ hp + wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## - hp    1     9.219 169.29 61.307
## &lt;none&gt;              160.07 61.515
## + disp  1     6.629 153.44 62.162
## + carb  1     3.227 156.84 62.864
## + drat  1     1.428 158.64 63.229
## - qsec  1    20.225 180.29 63.323
## + cyl   1     0.249 159.82 63.465
## + vs    1     0.249 159.82 63.466
## + gear  1     0.171 159.90 63.481
## - am    1    25.993 186.06 64.331
## - wt    1    78.494 238.56 72.284
## 
## Step:  AIC=61.31
## mpg ~ wt + qsec + am
## 
##        Df Sum of Sq    RSS    AIC
## &lt;none&gt;              169.29 61.307
## + hp    1     9.219 160.07 61.515
## + carb  1     8.036 161.25 61.751
## + disp  1     3.276 166.01 62.682
## + cyl   1     1.501 167.78 63.022
## + drat  1     1.400 167.89 63.042
## + gear  1     0.123 169.16 63.284
## + vs    1     0.000 169.29 63.307
## - am    1    26.178 195.46 63.908
## - qsec  1   109.034 278.32 75.217
## - wt    1   183.347 352.63 82.790
```

```r
step$anova # display results 
```

```
## Stepwise Model Path 
## Analysis of Deviance Table
## 
## Initial Model:
## mpg ~ cyl + disp + hp + drat + wt + qsec + vs + am + gear + carb
## 
## Final Model:
## mpg ~ wt + qsec + am
## 
## 
##     Step Df   Deviance Resid. Df Resid. Dev      AIC
## 1                             21   147.4944 70.89774
## 2  - cyl  1 0.07987121        22   147.5743 68.91507
## 3   - vs  1 0.26852280        23   147.8428 66.97324
## 4 - carb  1 0.68546077        24   148.5283 65.12126
## 5 - gear  1 1.56497053        25   150.0933 63.45667
## 6 - drat  1 3.34455117        26   153.4378 62.16190
## 7 - disp  1 6.62865369        27   160.0665 61.51530
## 8   - hp  1 9.21946935        28   169.2859 61.30730
```

---

# ANOVA

```r
m1 &lt;- aov(CARROS$Kmporlitro ~ as.factor(CARROS$NumdeValvulas))
summary(m1)
layout(matrix(c(1,2,3,4),2,2)) # optional layout
plot(m1) # diagnostic plots
TukeyHSD(m1)
plot(TukeyHSD(m1)) # where fit comes from aov() 
```


---

# ANOVA

```r
m1 &lt;- aov(CARROS$Kmporlitro ~ as.factor(CARROS$Cilindros) + CARROS$TipodeMarcha)
summary(m1)
layout(matrix(c(1,2,3,4),2,2)) # optional layout
plot(m1) # diagnostic plots
TukeyHSD(m1)
plot(TukeyHSD(m1)) # where fit comes from aov() 
```


---


&lt;!--
background-image: url(http://www.fondazioneluigieinaudi.it/wp-content/uploads/2018/01/pol.jpg)
background-position: 50% 50%
class: center, top, inverse
   # Use R!
---
class: center, middle, inverse
class: center, bottom, inverse

--&gt;
    </textarea>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
